TODO: be able to read from registers
TODO: create reset that can recover from errors
TODO: mac handle short heights
